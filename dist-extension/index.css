*{margin:0;padding:0;box-sizing:border-box}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f5f5f5;padding:0 20px 20px}.container{max-width:1400px;margin:0 auto;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;overflow:hidden}.header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}.header-left{display:flex;align-items:center;gap:20px}.header-controls{display:flex;gap:20px;align-items:center}.data-controls{display:flex;gap:15px;align-items:center}.header h1{font-size:24px;font-weight:600}.view-toggle{display:flex;gap:10px}.view-btn{background:#fff3;border:none;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;transition:all .3s ease;font-size:14px}.view-btn:hover{background:#ffffff4d}.view-btn.active{background:#fff6;font-weight:600}.bulk-edit-btn{background:#ffffff1a;border:2px solid rgba(255,255,255,.3);color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;transition:all .3s ease;font-size:14px;font-weight:500}.bulk-edit-btn:hover{background:#fff3;border-color:#ffffff80}.bulk-edit-btn.active{background:#ffffffe6;color:#667eea;border-color:#ffffffe6;font-weight:600}.header-btn{width:32px;height:32px;border:none;border-radius:6px;cursor:pointer;transition:all .3s ease;font-size:14px;display:flex;align-items:center;justify-content:center;position:relative;color:#fff;background:#ffffff1a;border:1px solid rgba(255,255,255,.3)}.header-btn:hover{background:#fff3;border-color:#ffffff80;transform:translateY(-1px);box-shadow:0 2px 4px #0003}.header-btn-group{display:flex;align-items:center;background:#ffffff1a;border:1px solid rgba(255,255,255,.3);border-radius:6px;overflow:hidden;transition:all .3s ease}.header-btn-group:hover{background:#ffffff26;border-color:#fff6;transform:translateY(-1px);box-shadow:0 2px 4px #0003}.header-btn-group .header-btn{border:none;border-radius:0;background:transparent}.header-btn.telegram{background:linear-gradient(135deg,#08c,#06a);color:#fff}.header-btn.download{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff}.header-btn.telegram:hover{background:linear-gradient(135deg,#06a,#048);transform:none;box-shadow:none}.header-btn.download:hover{background:linear-gradient(135deg,#45a049,#3d8b40);transform:none;box-shadow:none}.btn-divider{width:1px;height:20px;background:#ffffff4d;flex-shrink:0}.header-btn.lock-btn.locked{background:#f4433633;border-color:#f4433680;color:#f44336}.header-btn.lock-btn.locked:hover{background:#f443364d;border-color:#f44336b3;color:#fff}.header-btn.lock-btn.unlocked{background:#4caf5033;border-color:#4caf5080;color:#4caf50}.header-btn.lock-btn.unlocked:hover{background:#4caf504d;border-color:#4caf50b3;color:#fff}.auth-modal{background:#fff;border-radius:12px;width:400px;max-width:90vw;box-shadow:0 10px 30px #0000004d}.auth-header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px;border-radius:12px 12px 0 0;display:flex;justify-content:space-between;align-items:center}.auth-header h2{margin:0;font-size:20px}.auth-form{display:flex;flex-direction:column;height:100%}.auth-content{padding:20px;flex:1}.auth-content p{margin-bottom:20px;color:#666;line-height:1.5}.auth-content input{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;margin-bottom:15px;transition:border-color .3s ease}.auth-content input:focus{outline:none;border-color:#667eea}.auth-error{background:#fee;color:#d32f2f;padding:10px;border-radius:6px;border:1px solid #ffcdd2;margin-top:10px;font-size:14px}.auth-footer{padding:20px;border-top:1px solid #e0e0e0;display:flex;gap:15px;justify-content:flex-end}.telegram-settings{display:flex;flex-direction:column;gap:15px}.telegram-info{background:linear-gradient(135deg,#f0f8ff,#e6f3ff);border:1px solid #b3d9ff;border-radius:8px;padding:15px;margin-bottom:15px}.telegram-info p{margin:0 0 10px;color:#06c;font-weight:600}.telegram-info ol{margin:10px 0 0 20px;color:#333}.telegram-info li{margin-bottom:5px;line-height:1.4}.telegram-info a{color:#08c;text-decoration:none;font-weight:600}.telegram-info a:hover{text-decoration:underline}.telegram-settings label{display:flex;align-items:center;gap:10px;padding:12px;background:#f8f9fa;border-radius:6px;border:1px solid #e0e0e0;cursor:pointer;transition:all .3s ease}.telegram-settings label:hover{background:#e9ecef;border-color:#08c}.telegram-settings input[type=checkbox]{width:18px;height:18px;accent-color:#0088cc}.telegram-settings input[type=text],.telegram-settings input[type=password]{width:100%;padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;transition:border-color .3s ease;background:#fff}.telegram-settings input[type=text]:focus,.telegram-settings input[type=password]:focus{outline:none;border-color:#08c;box-shadow:0 0 0 3px #0088cc1a}.telegram-settings input:disabled{background:#f5f5f5;color:#999;cursor:not-allowed}.telegram-settings .btn{background:linear-gradient(135deg,#08c,#06a);color:#fff;border:none;padding:12px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.telegram-settings .btn:hover{background:linear-gradient(135deg,#06a,#048);transform:translateY(-1px);box-shadow:0 4px 12px #0088cc4d}.admin-info{background:linear-gradient(135deg,#fff3e0,#ffe0b2);border:1px solid #ffcc80;border-radius:8px;padding:15px;margin-bottom:15px}.admin-info p{margin:0 0 10px;color:#e65100;font-weight:600}.admin-info p:last-child{margin-bottom:0;color:#333;font-weight:400}.admins-list{display:flex;flex-direction:column;gap:15px}.admin-item{display:flex;align-items:center;gap:15px;padding:15px;background:#f8f9fa;border:1px solid #e0e0e0;border-radius:8px;transition:all .3s ease}.admin-item:hover{background:#e9ecef;border-color:#667eea}.admin-inputs{display:flex;gap:15px;flex:1}.admin-inputs input{flex:1;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .3s ease}.admin-inputs input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea1a}.no-admins-info{text-align:center;padding:30px;background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;color:#856404}.content{padding:15px 20px}.calendar-navigation{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid #dee2e6;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 4px #0000000d}.calendar-nav-left,.calendar-nav-right{display:flex;align-items:center;gap:15px}.nav-btn{width:32px;height:32px;border:1px solid #dee2e6;background:#fff;border-radius:6px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;color:#495057}.nav-btn:hover{background:#667eea;border-color:#667eea;color:#fff;transform:translateY(-1px);box-shadow:0 2px 4px #667eea4d}.date-range{position:relative;display:flex;align-items:center;gap:8px;padding:8px 16px;background:#fff;border:1px solid #dee2e6;border-radius:6px;min-width:200px;cursor:pointer;transition:all .3s ease}.date-range:hover{border-color:#667eea;box-shadow:0 2px 4px #667eea1a}.calendar-icon{color:#667eea;font-size:14px}.date-text{font-weight:600;color:#495057;font-size:14px}.date-picker-dropdown{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #dee2e6;border-radius:6px;box-shadow:0 4px 12px #00000026;z-index:1000;margin-top:4px}.date-picker-header{padding:12px 16px;border-bottom:1px solid #e9ecef;font-size:13px;font-weight:600;color:#495057;background:#f8f9fa;border-radius:6px 6px 0 0}.date-options{max-height:200px;overflow-y:auto;padding:8px}.date-option{display:block;width:100%;padding:8px 12px;background:none;border:none;text-align:left;cursor:pointer;border-radius:4px;font-size:13px;color:#495057;transition:all .2s ease;margin-bottom:2px}.date-option:hover{background:#f8f9fa;color:#667eea}.date-option.active{background:#667eea;color:#fff;font-weight:600}.date-option.active:hover{background:#5a6fd8}.today-btn{padding:8px 16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:6px;cursor:pointer;transition:all .3s ease;font-weight:500;font-size:13px}.today-btn:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190);transform:translateY(-1px);box-shadow:0 2px 4px #667eea4d}.position-filter{display:flex;align-items:center;gap:8px}.position-select{padding:6px 12px;border:1px solid #dee2e6;border-radius:6px;background:#fff;font-size:13px;cursor:pointer;transition:all .3s ease;min-width:150px}.position-select:hover{border-color:#667eea;box-shadow:0 2px 4px #667eea1a}.position-select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.period-selector{display:flex;align-items:center;gap:8px}.period-selector label{font-size:13px;font-weight:500;color:#495057}.period-select{padding:6px 12px;border:1px solid #dee2e6;border-radius:6px;background:#fff;font-size:13px;cursor:pointer;transition:border-color .3s ease}.period-select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea1a}.dropdown{position:relative;display:inline-block}.dropdown-content{display:none;position:absolute;top:100%;right:0;background:#fff;min-width:200px;box-shadow:0 8px 16px #0003;border-radius:8px;z-index:1000;overflow:hidden;margin-top:5px}.dropdown.open .dropdown-content{display:block}.dropdown-content button,.dropdown-content .import-btn{display:block;width:100%;padding:12px 16px;border:none;background:#fff;color:#333;text-align:left;cursor:pointer;transition:background .2s ease;font-size:14px;text-decoration:none}.dropdown-content button:hover,.dropdown-content .import-btn:hover{background:#f5f5f5}.dropdown-content .danger-btn:hover{background:#fee;color:#d32f2f}.import-btn{cursor:pointer}.connection-status{font-size:12px;font-weight:500;padding:4px 8px;border-radius:4px;transition:all .3s ease;background:#ffffff1a;border:1px solid rgba(255,255,255,.2)}.connection-status.connected{color:#4caf50;background:#4caf501a;border:1px solid rgba(76,175,80,.3)}.connection-status.connecting{color:#ff9800;background:#ff98001a;border:1px solid rgba(255,152,0,.3);animation:pulse 1.5s infinite}.connection-status.disconnected{color:#9e9e9e;background:#9e9e9e1a;border:1px solid rgba(158,158,158,.3)}.connection-status.failed{color:#f44336;background:#f443361a;border:1px solid rgba(244,67,54,.3)}@keyframes pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.grid-view{display:block}.schedule-grid{border:1px solid #e0e0e0;border-radius:8px;overflow:hidden}.grid-header{display:grid;grid-template-columns:150px repeat(14,1fr);background:#f8f9fa;border-bottom:2px solid #e0e0e0}.grid-header div{padding:8px 6px;text-align:center;font-weight:600;border-right:1px solid #e0e0e0;font-size:12px;white-space:pre-line}.grid-header div:first-child{background:#e9ecef;text-align:left;padding-left:12px}.grid-row{display:grid;grid-template-columns:150px repeat(14,1fr);border-bottom:1px solid #e0e0e0}.grid-row:hover{background:#f8f9fa}.employee-name{padding:8px 12px;background:#f8f9fa;border-right:1px solid #e0e0e0;font-weight:500;display:flex;align-items:center;white-space:nowrap}.day-cell{padding:3px;border-right:1px solid #e0e0e0;height:45px;cursor:pointer;position:relative;transition:all .2s ease}.day-cell:hover{background:#e3f2fd}.day-cell.bulk-mode{cursor:pointer;border:2px solid transparent}.day-cell.bulk-mode:hover{border-color:#667eea;background:#667eea1a}.day-cell.selected{background:#d0d0d0!important;border:2px solid #667eea!important;box-shadow:inset 0 0 10px #667eea4d}.day-cell.selected .shift-indicator{opacity:.7}.shift-indicator{position:absolute;top:2px;left:2px;width:20px;height:20px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2);z-index:1}.shift-morning{background:linear-gradient(135deg,gold,orange)}.shift-day{background:linear-gradient(135deg,#4caf50,#45a049)}.shift-evening{background:linear-gradient(135deg,#2196f3,#1976d2)}.shift-night{background:linear-gradient(135deg,#9c27b0,#7b1fa2)}.shift-flexible{background:linear-gradient(135deg,#00bcd4,#0097a7)}.shift-off{background:linear-gradient(135deg,#f44336,#d32f2f)}.shift-vacation{background:linear-gradient(135deg,#ff9800,#f57c00)}.shift-sick{background:linear-gradient(135deg,#607d8b,#455a64)}.timeline-view{display:block}.timeline-container{overflow-x:auto;border:1px solid #e0e0e0;border-radius:8px}.timeline-header{display:flex;background:#f8f9fa;border-bottom:2px solid #e0e0e0;min-width:1000px}.timeline-employee-header{width:150px;padding:12px 16px;background:#e9ecef;font-weight:600;border-right:1px solid #e0e0e0}.timeline-dates{flex:1;display:grid;grid-template-columns:repeat(14,1fr)}.timeline-date{padding:12px 8px;text-align:center;font-weight:600;border-right:1px solid #e0e0e0;font-size:12px}.timeline-row{display:flex;border-bottom:1px solid #e0e0e0;min-width:1000px}.timeline-employee{width:150px;padding:12px 16px;background:#f8f9fa;border-right:1px solid #e0e0e0;font-weight:500;display:flex;align-items:center}.timeline-schedule{flex:1;display:grid;grid-template-columns:repeat(14,1fr)}.timeline-cell{height:50px;border-right:1px solid #e0e0e0;cursor:pointer;position:relative;padding:2px}.timeline-cell:hover{background:#e3f2fd}.timeline-cell.bulk-mode{cursor:pointer;border:2px solid transparent}.timeline-cell.bulk-mode:hover{border-color:#667eea;background:#667eea1a}.timeline-cell.selected{background:#d0d0d0!important;border:2px solid #667eea!important;box-shadow:inset 0 0 10px #667eea4d}.timeline-cell.selected .timeline-shift{opacity:.7}.timeline-shift{position:absolute;top:2px;left:2px;width:20px;height:20px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2);z-index:1}.popup-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1000;display:flex;align-items:center;justify-content:center}.popup{background:#fff;border-radius:12px;padding:24px;box-shadow:0 10px 25px #0003;min-width:300px;max-width:90vw;max-height:90vh;overflow-y:auto}.popup h3{margin-bottom:16px;color:#333;font-size:18px}.shift-options{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:20px}.shift-option{padding:12px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;text-align:center;transition:all .2s ease;font-weight:500;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2)}.shift-option:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.popup-buttons{display:flex;gap:10px;justify-content:flex-end}.btn{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .2s ease}.btn-cancel{background:#6c757d;color:#fff}.btn-cancel:hover{background:#5a6268}.weekend{background:#fff3e0!important}.today{background:#e8f5e8!important}.legend{display:flex;gap:8px;margin-bottom:0;flex-wrap:wrap;align-items:center;padding:12px 20px;background:#f8f9fa;border-bottom:1px solid #e0e0e0}.legend-items{display:flex;gap:8px;flex-wrap:wrap}.legend-header{font-weight:600;font-size:14px;color:#333;margin-right:10px}.legend-item{display:flex;align-items:center;gap:4px;font-size:11px;padding:4px 6px;border-radius:4px;border:1px solid transparent;min-width:36px;justify-content:center}.legend-color{width:12px;height:12px;border-radius:2px;flex-shrink:0}.empty-shift{background:#e0e0e0;border:2px dashed #999}.date-header{cursor:pointer;transition:all .2s ease}.date-header:hover{background:#667eea33!important;transform:translateY(-1px)}.date-header.active{background:#667eea!important;color:#fff!important;font-weight:600;box-shadow:0 2px 4px #667eea4d;border-radius:6px}.timeline-view{padding:0}.back-btn{background:#667eea;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease}.back-btn:hover{background:#5a6fd8;transform:translateY(-1px)}.timeline-container{border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;background:#fff;display:flex;flex-direction:column}.time-scale{background:#f8f9fa;border-bottom:2px solid #e0e0e0}.time-scale-header{border-bottom:1px solid #e0e0e0;background:#e9ecef;display:flex;flex-direction:column}.time-scale-label{padding:8px 12px;font-weight:600;font-size:14px}.time-hours{display:flex;min-height:40px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;padding-left:150px;overflow-x:auto}.time-hour{flex:1;padding:4px 2px;text-align:center;font-size:9px;font-weight:500;border-right:1px solid #dee2e6;min-width:40px;color:#666;display:flex;align-items:center;justify-content:center;white-space:nowrap}.time-hour:nth-child(4n){background:#667eea0d;font-weight:600;color:#333}.timeline-employees-header{padding:8px 12px;font-weight:600;font-size:14px;background:#e9ecef;border-bottom:1px solid #e0e0e0}.timeline-rows{max-height:400px;overflow-y:auto}.timeline-row{display:flex;border-bottom:1px solid #e0e0e0;min-height:45px;align-items:center}.timeline-row:hover{background:#f8f9fa}.timeline-employee-name{width:150px;padding:20px 12px;background:#f8f9fa;border-right:1px solid #e0e0e0;font-weight:500;position:sticky;left:0;z-index:10}.timeline-timeline{flex:1;position:relative;height:60px;display:flex;cursor:crosshair;transition:background .2s ease;overflow-x:auto}.timeline-timeline:hover{background:#667eea0d}} .timeline-hour-cell{flex:1;border-right:1px solid #f0f0f0;transition:background .2s ease;min-width:40px;height:100%}.timeline-hour-cell:hover{background:#667eea1a}height: 100%; } .timeline-hour-cell:nth-child(4n){border-right:1px solid #dee2e6}.timeline-shift{position:absolute;top:10px;height:40px;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:11px;box-shadow:0 2px 4px #0000001a;z-index:5;border:2px solid rgba(255,255,255,.3);transition:all .2s ease;cursor:pointer}.timeline-shift:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0003;border-color:#ffffff80}.timeline-shift-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 8px}.timeline-shift.flexible-shift{cursor:move;border:2px solid rgba(255,255,255,.6)}.timeline-shift.flexible-shift:hover{box-shadow:0 4px 8px #0003;border-color:#fffc}.timeline-shift.dragging{transform:translateY(-2px);box-shadow:0 6px 12px #00000040;border-color:#fffc;opacity:.8}.timeline-container{position:relative}.resize-handle{position:absolute;top:0;width:8px;height:100%;cursor:col-resize;background:#fff6;opacity:0;transition:opacity .2s ease}.resize-handle.resize-left{cursor:w-resize}.resize-handle.resize-right{cursor:e-resize}.resize-handle.resize-left{left:0;border-radius:6px 0 0 6px}.resize-handle.resize-right{right:0;border-radius:0 6px 6px 0}.timeline-shift.flexible-shift:hover .resize-handle{opacity:1}.resize-handle:hover{background:#fff9;opacity:1!important}.inline-time-picker{background:#fff;border-radius:8px;box-shadow:0 8px 24px #00000026;border:1px solid #e0e0e0;min-width:200px;overflow:hidden}.time-picker-header{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;font-size:12px;font-weight:600}.close-btn-small{border:none;background:none;font-size:16px;cursor:pointer;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:4px}.close-btn-small:hover{background:#0000001a}.time-picker-content{padding:12px;display:flex;flex-direction:column;gap:12px}.time-field{display:flex;align-items:center;gap:8px;padding:4px;border-radius:4px;transition:background .2s ease}.time-field.active{background:#667eea1a}.time-field label{font-size:12px;font-weight:500;width:24px;color:#666}.time-input{display:flex;align-items:center;gap:8px}.time-display{font-family:monospace;font-size:14px;font-weight:600;padding:4px 8px;background:#f5f5f5;border-radius:4px;cursor:pointer;min-width:48px;text-align:center}.time-display:hover{background:#e9ecef}.time-controls{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:2px}.time-controls button{width:16px;height:16px;border:none;background:#f0f0f0;border-radius:2px;cursor:pointer;font-size:10px;display:flex;align-items:center;justify-content:center;transition:background .2s ease}.time-controls button:hover{background:#e0e0e0}.time-picker-actions{padding:8px 12px;border-top:1px solid #e0e0e0;background:#f8f9fa}.confirm-btn{width:100%;padding:6px 12px;background:#667eea;color:#fff;border:none;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:background .2s ease}.confirm-btn:hover{background:#5a6fd8}.shift-card.flexible-editable{cursor:pointer;position:relative}.shift-card.flexible-editable:hover{transform:scale(1.02);box-shadow:0 2px 8px #00000026}.shift-card.flexible-editable:after{content:"✏️";position:absolute;top:2px;right:2px;font-size:8px;opacity:0;transition:opacity .2s ease}.shift-card.flexible-editable:hover:after{opacity:.7}.day-cell.drag-selecting{-webkit-user-select:none;user-select:none;cursor:cell}.day-cell.bulk-mode{transition:all .1s ease}.day-cell.bulk-mode:hover{background:#667eea1a!important;border-color:#667eea4d!important}.grid-view.drag-selecting{-webkit-user-select:none;user-select:none}.grid-view.drag-selecting .day-cell{cursor:cell}.timeline-status{position:absolute;top:20px;left:50%;transform:translate(-50%);padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;color:#fff;white-space:nowrap}@media (max-width: 768px){.timeline-container{overflow-x:auto}.time-hours,.timeline-timeline{min-width:800px}.timeline-employee-name{width:120px}}.settings-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;z-index:2000;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.settings-modal{background:#fff;border-radius:16px;width:90%;max-width:800px;max-height:90vh;overflow:hidden;box-shadow:0 20px 40px #0000004d;animation:modalAppear .3s ease-out}@keyframes modalAppear{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-bottom:1px solid #e0e0e0}.settings-header h2{margin:0;font-size:24px;font-weight:600}.close-btn{background:none;border:none;color:#fff;font-size:28px;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.close-btn:hover{background:#fff3;transform:rotate(90deg)}.settings-tabs{display:flex;background:#f5f5f5;border-bottom:1px solid #e0e0e0;padding:0 12px;overflow-x:auto;flex-wrap:nowrap;scrollbar-width:thin;scrollbar-color:#ccc transparent}.settings-tabs::-webkit-scrollbar{height:4px}.settings-tabs::-webkit-scrollbar-track{background:transparent}.settings-tabs::-webkit-scrollbar-thumb{background:#ccc;border-radius:2px}.tab-btn{background:none;border:none;padding:12px 16px;cursor:pointer;font-size:12px;font-weight:500;color:#666;border-bottom:3px solid transparent;transition:all .2s ease;position:relative;white-space:nowrap;flex-shrink:0;min-width:fit-content}.tab-btn:hover{color:#667eea;background:#667eea0d}.tab-btn.active{color:#667eea;border-bottom-color:#667eea;background:#fff}.settings-content{padding:32px;max-height:60vh;overflow-y:auto;background:#fafafa}.settings-section{background:#fff;border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 2px 4px #0000001a;border:1px solid #e0e0e0}.settings-section:last-child{margin-bottom:0}.settings-section h3{margin:0 0 20px;color:#333;font-size:18px;font-weight:600;border-bottom:2px solid #667eea;padding-bottom:8px}.employees-list{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.employee-item{display:flex;gap:12px;align-items:center;padding:5px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0;transition:all .2s ease}.employee-inputs{display:flex;gap:8px;flex:1;align-items:center}.employee-inputs input[type=text]{flex:2;min-width:120px}.position-select-modal{flex:1;height:32px;padding:6px 8px;border:1px solid #e0e0e0;border-radius:4px;font-size:14px;background:#fff;box-sizing:border-box;min-width:100px}.positions-list{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.position-item{display:flex;gap:12px;align-items:center;padding:5px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0;transition:all .2s ease}.position-item:hover{background:#e3f2fd;border-color:#667eea}.position-item input[type=text]{flex:1;height:32px;padding:6px 8px;border:1px solid #e0e0e0;border-radius:4px;font-size:14px;transition:all .2s ease;min-width:120px;box-sizing:border-box}.employee-item:hover{background:#e3f2fd;border-color:#667eea}.employee-item input[type=text]{flex:1;padding:10px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;transition:all .2s ease}.employee-item input[type=text]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.remove-btn{background:#f44336;border:none;color:#fff;padding:6px 8px;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease;min-width:32px;height:32px;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.remove-btn:hover{background:#d32f2f;transform:translateY(-1px)}.add-btn{background:#4caf50;border:none;color:#fff;padding:12px 20px;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;width:100%;margin-bottom:16px}.add-btn:hover{background:#45a049;transform:translateY(-1px)}.shift-types-list{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.shift-type-item{display:flex;gap:12px;align-items:center;padding:5px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0;transition:all .2s ease}.shift-type-inputs{display:flex;gap:12px;flex:1;align-items:center;flex-wrap:wrap}.shift-type-inputs input[type=text]{height:32px;padding:6px 8px;border:1px solid #e0e0e0;border-radius:4px;font-size:14px;transition:all .2s ease;min-width:120px;box-sizing:border-box}.shift-type-inputs input[type=text]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.tags-list{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.tag-item{display:flex;gap:12px;align-items:center;padding:5px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0;transition:all .2s ease}.tag-item:hover{background:#e3f2fd;border-color:#667eea}.tag-inputs{display:flex;gap:12px;flex:1;align-items:center;flex-wrap:wrap}.tag-inputs input[type=text]{padding:10px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;transition:all .2s ease;min-width:120px}.tag-inputs input[type=text]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.shift-card{position:absolute;inset:2px;border-radius:4px;display:flex;justify-content:space-between;align-items:flex-start;padding:2px}.shift-symbol{position:absolute;top:2px;left:2px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:400;color:#fff;background:#fff;border-radius:3px;z-index:1}.shift-tags{position:absolute;top:2px;right:2px;display:flex;flex-direction:column;gap:2px;align-items:flex-end;max-height:calc(100% - 4px);overflow:hidden}.shift-card.flexible-full-cell{position:absolute;inset:0;border-radius:4px}.empty-cell{position:absolute;inset:2px;display:flex;justify-content:flex-end;align-items:flex-start;padding:2px}.shift-tag{display:inline-block;min-width:14px;height:14px;border-radius:7px;color:#fff;font-size:9px;font-weight:700;text-align:center;line-height:14px;padding:0 3px;box-shadow:0 1px 2px #0000004d;cursor:pointer;transition:transform .1s ease}.shift-tag:hover{transform:scale(1.1)}.tag-management-grid{display:grid;grid-template-columns:1fr;gap:8px;max-height:300px;overflow-y:auto}.tag-management-item{display:flex;align-items:center;gap:12px;padding:12px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .2s ease;background:#fff}.tag-management-item:hover{border-color:#667eea;background:#f8f9ff}.tag-management-item.selected{border-color:#f44336;background:#fff5f5}.tag-management-item.selected:hover{border-color:#d32f2f;background:#ffebee}.tag-color-preview{width:24px;height:24px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:12px;box-shadow:0 2px 4px #0003;flex-shrink:0}.tag-label{flex:1;font-weight:500;color:#333}.tag-action{flex-shrink:0}.add-indicator{color:#4caf50;font-weight:500;font-size:12px}.remove-indicator{color:#f44336;font-weight:500;font-size:12px}.no-tags-message{text-align:center;padding:40px 20px;color:#666}.no-tags-message p{margin:8px 0}.timeline-tags{display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;align-items:center}.timeline-tag{display:inline-block;min-width:16px;height:16px;border-radius:8px;color:#fff;font-size:10px;font-weight:700;text-align:center;line-height:16px;padding:0 4px;box-shadow:0 1px 2px #0000004d}.timeline-empty{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease}.timeline-empty:hover{background:#0000000d}.timeline-shift,.timeline-status{cursor:pointer}.popup-tabs{display:flex;border-bottom:1px solid #e0e0e0;background:#f5f5f5}.popup-tabs .tab-btn{background:none;border:none;padding:12px 20px;cursor:pointer;font-size:14px;font-weight:500;color:#666;border-bottom:3px solid transparent;transition:all .2s ease;flex:1}.popup-tabs .tab-btn:hover{color:#667eea;background:#667eea0d}.popup-tabs .tab-btn.active{color:#667eea;border-bottom-color:#667eea;background:#fff}.shifts-tab,.tags-tab{padding:20px}.shift-option-content{display:flex;flex-direction:column;align-items:center;gap:4px}.shift-label{font-weight:600;font-size:14px}.shift-time{font-size:12px;opacity:.8}.clear-option{background:#fff!important;color:#333!important;border:2px solid #ddd!important}.clear-option:hover{border-color:#ccc!important;background:#f9f9f9!important}.shift-types-list{display:flex;flex-direction:column;gap:16px}.shift-type-item{display:flex;gap:12px;align-items:center;padding:16px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0;transition:all .2s ease}.shift-type-item:hover{background:#e3f2fd;border-color:#667eea}.shift-type-inputs{display:flex;gap:8px;flex:1;align-items:center;flex-wrap:wrap}.shift-type-inputs input{padding:8px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;transition:all .2s ease}.shift-type-inputs input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.shift-type-inputs input[type=text]:first-child{flex:2;min-width:120px}.shift-type-inputs input[type=text]:nth-child(2){flex:1;min-width:60px;max-width:80px;text-align:center}.shift-type-inputs input[type=number]{flex:1;min-width:70px;max-width:90px;text-align:center}.websocket-settings{display:flex;flex-direction:column;gap:16px}.websocket-settings label{display:flex;align-items:center;gap:10px;font-weight:500;color:#333;cursor:pointer}.websocket-settings input[type=checkbox]{width:18px;height:18px;cursor:pointer}.websocket-settings input[type=text],.websocket-settings input[type=password]{width:100%;padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;transition:all .2s ease}.websocket-settings input[type=text]:focus,.websocket-settings input[type=password]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.websocket-settings input[type=text]:disabled,.websocket-settings input[type=password]:disabled{background:#f5f5f5;color:#999;cursor:not-allowed;border-color:#ddd}.websocket-settings input[type=text]::placeholder,.websocket-settings input[type=password]::placeholder{color:#999;font-style:italic}.ably-info{background:#f8f9fa;border:1px solid #e0e0e0;border-radius:8px;padding:16px;margin-bottom:16px}.ably-info p{margin:0 0 12px;color:#333}.ably-info ol{margin:0;padding-left:20px;color:#555}.ably-info li{margin-bottom:8px;font-size:14px}.ably-info a{color:#667eea;text-decoration:none;font-weight:500}.ably-info a:hover{text-decoration:underline}.ably-status{padding:12px 16px;border-radius:8px;font-weight:500;font-size:14px}.ably-status.success{background:#4caf501a;border:1px solid rgba(76,175,80,.3);color:#4caf50}.ably-status.error{background:#f443361a;border:1px solid rgba(244,67,54,.3);color:#f44336}.debug-settings{display:flex;flex-direction:column;gap:16px}.debug-settings label{display:flex;align-items:center;gap:10px;font-weight:500;color:#333;cursor:pointer}.debug-settings input[type=checkbox]{width:18px;height:18px;cursor:pointer}.debug-info{background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;padding:16px;color:#856404}.debug-info p{margin:0 0 8px;font-size:14px}.debug-info p:last-child{margin-bottom:0}.settings-footer{display:flex;gap:12px;justify-content:flex-end;padding:24px 32px;background:#f8f9fa;border-top:1px solid #e0e0e0}.btn-primary{background:#667eea;color:#fff;padding:12px 24px;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease}.btn-primary:hover{background:#5a6fd8;transform:translateY(-1px)}@media (max-width: 768px){.settings-modal{width:95%;max-height:95vh}.settings-header{padding:16px 20px}.settings-content{padding:20px}.settings-section{padding:16px}.shift-type-inputs{flex-direction:column;align-items:stretch}.shift-type-inputs input{width:100%;max-width:none;min-width:auto}.settings-footer{padding:16px 20px;flex-direction:column}.settings-footer .btn{width:100%}}.time-select{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;background:#fff;color:#333;cursor:pointer;min-width:100px}.time-select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.date-selector{margin:20px 0;padding:16px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.date-selector-header{font-weight:600;font-size:14px;color:#333;margin-bottom:12px}.date-options{display:flex;gap:8px;flex-wrap:wrap}.date-header-row{display:flex;background:#f8f9fa;padding-left:150px;overflow-x:auto;min-height:40px;align-items:center}.date-header-row .date-header{flex:1;padding:4px 2px;text-align:center;font-size:9px;font-weight:500;border-right:1px solid #dee2e6;min-width:40px;color:#666;display:flex;align-items:center;justify-content:center;white-space:nowrap;cursor:pointer;transition:background-color .2s ease}.date-header-row .date-header:hover{background:#667eea1a}.date-header-row .date-header.active{background:#667eea33;font-weight:600;color:#333}.date-header-row .date-header.weekend{background:#ff98001a}.date-option{padding:8px 12px;border:1px solid #ddd;border-radius:6px;background:#fff;cursor:pointer;font-size:12px;font-weight:500;transition:all .2s ease;min-width:60px;text-align:center}.date-option:hover{background:#e3f2fd;border-color:#2196f3}.date-option.active{background:#667eea;color:#fff;border-color:#667eea}.date-option.weekend{background:#ffebee;border-color:#ffcdd2}.date-option.weekend:hover{background:#ffcdd2}.date-option.today{background:#e8f5e8;border-color:#4caf50;font-weight:600}.date-option.today:hover{background:#c8e6c9}.color-picker{position:relative;display:flex;flex-direction:column;gap:4px}.color-picker-label{font-size:12px;font-weight:500;color:#333}.color-picker-container{position:relative}.color-picker-trigger{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px solid #ddd;border-radius:50%;cursor:pointer;position:relative;overflow:hidden}.color-picker-value{position:absolute;bottom:0;left:0;right:0;background:#000000b3;color:#fff;font-size:8px;text-align:center;padding:1px;line-height:10px}.color-picker-dropdown{position:absolute;top:100%;left:0;z-index:1000;background:#fff;border:1px solid #ddd;border-radius:6px;box-shadow:0 4px 12px #00000026;padding:12px;width:224px;min-height:180px}.color-picker-colors{display:grid;grid-template-columns:repeat(5,1fr);gap:6px;margin-bottom:12px}.color-option{width:28px;height:28px;border:2px solid transparent;border-radius:4px;cursor:pointer;transition:all .2s ease}.color-option:hover,.color-option.selected{border-color:#333;transform:scale(1.1)}.color-picker-custom{display:flex;align-items:center;gap:8px;padding-top:8px;border-top:1px solid #eee}.color-picker-input{width:32px;height:24px;border:none;border-radius:4px;cursor:pointer}.color-picker-tabs{display:flex;border-bottom:1px solid #e0e0e0;margin-bottom:12px}.color-tab{flex:1;padding:8px 12px;border:none;background:transparent;cursor:pointer;font-size:12px;color:#666;transition:all .2s ease}.color-tab.active{background:#f0f0f0;color:#333;font-weight:500}.color-tab:hover{background:#f8f8f8}.color-picker-palette{padding:8px}.color-picker-input-group{display:flex;gap:8px;margin-top:12px;align-items:center}.color-hex-input{width:80px;padding:6px 8px;border:1px solid #d0d0d0;border-radius:4px;font-size:12px;font-family:monospace}.color-apply-btn{padding:6px 12px;background:#667eea;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:12px;transition:background .2s ease}.color-apply-btn:hover{background:#5a6fd8}.react-colorful{width:180px!important;height:120px!important}.react-colorful__saturation{border-radius:4px 4px 0 0}.react-colorful__hue{height:20px;border-radius:0 0 4px 4px}.react-colorful__pointer{width:8px;height:8px}.time-select-simple{width:100px;height:32px;padding:4px 8px;border:1px solid #d0d0d0;border-radius:4px;font-size:14px;background:#fff;cursor:pointer}.time-select-simple:hover{border-color:#667eea}.time-select-simple:focus{border-color:#667eea;box-shadow:0 0 0 2px #667eea1a;outline:none}.shift-type-inputs{display:flex;gap:8px;align-items:flex-end;flex-wrap:wrap}.shift-type-inputs input[type=text]{flex:1;min-width:80px}.toggle-setting{display:flex;align-items:center;gap:12px;cursor:pointer;padding:8px 0}.toggle-setting input[type=checkbox]{position:absolute;opacity:0;width:0;height:0}.toggle-slider{position:relative;width:44px;height:24px;background-color:#ccc;border-radius:24px;transition:all .3s ease}.toggle-slider:before{content:"";position:absolute;width:20px;height:20px;border-radius:50%;background-color:#fff;top:2px;left:2px;transition:all .3s ease;box-shadow:0 2px 4px #0003}.toggle-setting input:checked+.toggle-slider{background-color:#667eea}.toggle-setting input:checked+.toggle-slider:before{transform:translate(20px)}.toggle-label{font-size:14px;color:#333}.setting-item{margin-bottom:16px}.cell-view-settings{background:#f8f9fa;padding:16px;border-radius:8px;border:1px solid #e9ecef}.date-header.weekend,.weekend-cell{background-color:#fff6e7!important}.date-header.first-of-month,.first-of-month-cell{background-color:#e7f6ff!important}.date-header.weekend.first-of-month,.weekend-cell.first-of-month-cell{background:linear-gradient(45deg,#fff6e7 50%,#e7f6ff 50%)!important}.settings-divider{border-top:1px solid #e0e0e0;margin:24px 0}.working-hours-section{margin-bottom:24px;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.working-hours-section h4{margin:0 0 8px;color:#333;font-size:16px}.working-hours-description{font-size:14px;color:#666;margin-bottom:16px;line-height:1.4}.working-hours-inputs{display:flex;gap:20px;align-items:end}.time-range{display:flex;flex-direction:column;gap:6px}.time-range label{font-size:14px;font-weight:500;color:#333}.timeline-zoom-section{margin-bottom:24px;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.timeline-zoom-section h4{margin:0 0 12px;color:#333;font-size:16px}.zoom-select{padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;background:#fff;min-width:120px}.setting-description{font-size:12px;color:#666;margin-top:4px;padding-left:56px}.modal-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.flexible-time-modal{background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;max-width:400px;width:90%;max-height:80vh;overflow:hidden}.flexible-time-modal .modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e0e0e0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.flexible-time-modal .modal-header h3{margin:0;font-size:18px}.flexible-time-modal .modal-content{padding:20px}.time-selection{display:flex;flex-direction:column;gap:16px}.time-field{display:flex;flex-direction:column;gap:8px}.time-field label{font-weight:600;color:#333}.time-display{font-size:14px;color:#666;font-weight:500}.time-duration{margin-top:16px;padding:12px;background:#f8f9fa;border-radius:8px}.duration-info{font-size:14px;color:#666;text-align:center}.flexible-time-modal .modal-actions{display:flex;gap:12px;padding:20px;border-top:1px solid #e0e0e0;justify-content:flex-end}.shift-symbol.time-display{position:absolute;top:2px;left:2px;width:30px;height:24px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:400;color:#333;border-radius:3px;z-index:1;white-space:pre-line;text-align:center;line-height:1.1;background:#fff;min-width:36px;padding:2px}
